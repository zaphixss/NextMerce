{% extends 'partials/base.html' %}
{% load static %}

{% block content %}
<div class="sticky top-0 z-30 bg-white border-b border-gray-200 lg:hidden overflow-x-auto no-scrollbar">
    <div class="flex items-center gap-8 px-6">

        <a href="{% url 'customer_dashboard' %}"
            class="relative py-4 text-sm whitespace-nowrap transition-colors
            {% if request.resolver_match.url_name == 'customer_dashboard' %} font-bold text-indigo-600 {% else %} font-medium text-slate-500 hover:text-indigo-600 {% endif %}">
            Dashboard
            {% if request.resolver_match.url_name == 'customer_dashboard' %}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"></span>
            {% endif %}
        </a>

        <a href="{% url 'customer_orders' %}"
            class="relative py-4 text-sm whitespace-nowrap transition-colors
            {% if request.resolver_match.url_name == 'customer_orders' %} font-bold text-indigo-600 {% else %} font-medium text-slate-500 hover:text-indigo-600 {% endif %}">
            Orders
            {% if request.resolver_match.url_name == 'customer_orders' %}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"></span>
            {% endif %}
        </a>

        <a href="{% url 'customer_wishlist' %}"
            class="relative py-4 text-sm whitespace-nowrap transition-colors
            {% if request.resolver_match.url_name == 'customer_wishlist' %} font-bold text-indigo-600 {% else %} font-medium text-slate-500 hover:text-indigo-600 {% endif %}">
            Wishlist
            {% if request.resolver_match.url_name == 'customer_wishlist' %}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"></span>
            {% endif %}
        </a>

        <a href="{% url 'customer_settings' %}"
            class="relative py-4 text-sm whitespace-nowrap transition-colors
            {% if request.resolver_match.url_name == 'customer_settings' %} font-bold text-indigo-600 {% else %} font-medium text-slate-500 hover:text-indigo-600 {% endif %}">
            Settings
            {% if request.resolver_match.url_name == 'customer_settings' %}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"></span>
            {% endif %}
        </a>

        <a href="{% url 'customer_reviews' %}"
            class="relative py-4 text-sm whitespace-nowrap transition-colors
            {% if request.resolver_match.url_name == 'customer_reviews' %} font-bold text-indigo-600 {% else %} font-medium text-slate-500 hover:text-indigo-600 {% endif %}">
            Pending Reviews
            {% if request.resolver_match.url_name == 'customer_reviews' %}
            <span class="absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600 rounded-t-full"></span>
            {% endif %}
        </a>

    </div>
</div>

<style>
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
</style>
<div
    class="bg-white border-b border-gray-200 py-8 flex lg:flex-row flex-col lg:gap-0 gap-2  items-center justify-between px-4 lg:px-[12rem] xl:px-[19rem]">
    <h1 class="font-bold text-3xl text-slate-900">Write a Review</h1>
    <div class="text-sm font-medium">
        <a href="{% url 'index' %}" class="text-slate-500 hover:text-blue-600 transition-colors">Home /</a>
        <a href="{% url 'customer_reviews' %}" class="text-slate-500 hover:text-blue-600 transition-colors">Pending
            Reviews /</a>
        <span class="text-blue-600">Review</span>
    </div>
</div>

<section class="bg-[#F9FAFB] py-10 px-4 lg:px-[12rem] xl:px-[19rem]">

    <div class="grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-8">

        <aside class="hidden lg:block sticky top-32 self-start h-fit">
            {% include 'customer/includes/sidebar.html' %}
        </aside>
        <div class="space-y-6">

            <div class="rounded-2xl border border-slate-100 bg-white shadow-sm overflow-hidden">

                <div class="flex items-center px-6 py-5 border-b border-slate-100 bg-white">
                    <a href="{% url 'customer_reviews' %}"
                        class="group mr-4 rounded-full p-1 hover:bg-slate-50 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-5 h-5 text-slate-400 group-hover:text-slate-700">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                        </svg>
                    </a>
                    <h2 class="text-lg font-bold text-slate-900">Review Product</h2>
                </div>

                <form action="{% url 'review_detail' item.id %}" method="POST" class="p-8">
                    {% csrf_token %}

                    <div class="mb-10 text-center sm:text-left">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-6">Product Rating</h3>

                        <div
                            class="flex flex-col sm:flex-row items-center gap-6 rounded-xl border border-slate-100 bg-slate-50/50 p-4">
                            <div
                                class="h-20 w-20 flex-shrink-0 overflow-hidden rounded-lg bg-white border border-slate-200 p-1">
                                <img src="{{item.product.image.url}}" alt="Product Thumbnail"
                                    class="h-full w-full object-contain mix-blend-multiply">
                            </div>

                            <div class="flex-1 text-center sm:text-left">
                                <p class="text-sm font-bold text-slate-900 line-clamp-1 mb-2">{{item.product.name}}</p>

                                <div class="flex flex-row-reverse justify-center sm:justify-end items-center gap-1.5">
                                    <input type="radio" id="star5" name="rating" value="5" class="peer hidden" />
                                    <label for="star5" title="5 Stars"
                                        class="text-slate-200 text-3xl cursor-pointer transition-colors peer-checked:text-yellow-400 hover:text-yellow-400 peer-hover:text-yellow-400">★</label>

                                    <input type="radio" id="star4" name="rating" value="4" class="peer hidden" />
                                    <label for="star4" title="4 Stars"
                                        class="text-slate-200 text-3xl cursor-pointer transition-colors peer-checked:text-yellow-400 hover:text-yellow-400 peer-hover:text-yellow-400 peer-checked:peer-hover:text-yellow-400">★</label>

                                    <input type="radio" id="star3" name="rating" value="3" class="peer hidden" />
                                    <label for="star3" title="3 Stars"
                                        class="text-slate-200 text-3xl cursor-pointer transition-colors peer-checked:text-yellow-400 hover:text-yellow-400 peer-hover:text-yellow-400 peer-checked:peer-hover:text-yellow-400">★</label>

                                    <input type="radio" id="star2" name="rating" value="2" class="peer hidden" />
                                    <label for="star2" title="2 Stars"
                                        class="text-slate-200 text-3xl cursor-pointer transition-colors peer-checked:text-yellow-400 hover:text-yellow-400 peer-hover:text-yellow-400 peer-checked:peer-hover:text-yellow-400">★</label>

                                    <input type="radio" id="star1" name="rating" value="1" class="peer hidden" />
                                    <label for="star1" title="1 Star"
                                        class="text-slate-200 text-3xl cursor-pointer transition-colors peer-checked:text-yellow-400 hover:text-yellow-400 peer-hover:text-yellow-400 peer-checked:peer-hover:text-yellow-400">★</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide">Review Details</h3>

                        <div class="grid grid-cols-1 gap-6">
                            <div class="relative">
                                <label for="name" class="block text-sm font-medium text-slate-700 mb-1">Display
                                    Name</label>
                                <input type="text" name="name" id="name" placeholder="e.g. John Doe"
                                    class="w-full sm:w-1/2 rounded-lg border border-slate-300 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all">
                            </div>

                            <div class="relative">
                                <label for="review" class="block text-sm font-medium text-slate-700 mb-1">Your
                                    Review</label>
                                <textarea rows="5" name="review" id="review"
                                    placeholder="What did you like or dislike? What did you use this product for?"
                                    class="w-full rounded-lg border border-slate-300 px-4 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all resize-none"></textarea>
                                <p class="mt-2 text-xs text-slate-400 text-right">Min. 10 characters</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 pt-6 border-t border-slate-100 flex justify-end">
                        <button type="submit"
                            class="rounded-full bg-indigo-600 px-8 py-3.5 text-sm font-bold text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 hover:shadow-indigo-500/40 transition-all transform hover:-translate-y-0.5">
                            Submit Review
                        </button>
                    </div>

                </form>
            </div>

        </div>
    </div>

</section>
{% endblock content %}