<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Product | {{ product.name }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    screens: {
                        '2xl': '1536px',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        @media (max-width: 768px) {
            .mobile-padding {
                padding-left: 1.25rem !important;
                padding-right: 1.25rem !important;
                padding-top: 1.5rem !important;
            }

            .mobile-header {
                flex-direction: column !important;
                align-items: flex-start !important;
                gap: 1rem !important;
            }

            .mobile-grid-reset {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>

<body class="bg-[#F8F9FC] h-screen flex overflow-hidden font-['Plus_Jakarta_Sans']">

    <aside class="w-64 bg-white border-r border-slate-200 hidden lg:block flex-shrink-0 z-20">
        {% include 'vendor/includes/vendor.sidebar.html' %}
    </aside>

    <div id="drawer-navigation"
        class="fixed top-0 left-0 z-40 h-screen p-2  transition-transform -translate-x-full bg-white w-fit " tabindex="-1"
        aria-labelledby="drawer-navigation-label">
        <button type="button" data-drawer-hide="drawer-navigation" aria-controls="drawer-navigation"
            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 end-2.5 inline-flex items-center">
            <i class="fa-solid fa-xmark"></i>
        </button>
        <div>
            {% include 'vendor/includes/vendor.sidebar.html' %}
        </div>
    </div>

    <main class="flex-1 px-4 lg:px-[6%] 2xl:px-[12%] p-8 overflow-y-auto h-full mobile-padding">

        <header class="flex items-center justify-between mb-8 mobile-header">
            <div class="flex items-center justify-between w-full md:w-auto">
                <div>
                    <a href="{% url 'vendor_product_list' %}"
                        class="text-indigo-600 text-xs font-bold uppercase tracking-widest flex items-center gap-2 mb-2">
                        <i class="fa-solid fa-arrow-left"></i> Back to Products
                    </a>
                    <h1 class="text-3xl font-black text-slate-900 tracking-tight">Edit Listing</h1>
                </div>
                <button
                    class="lg:hidden p-2.5 text-slate-600 bg-white border border-slate-200 rounded-xl shadow-sm ml-4"
                    type="button" data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation">
                    <i class="fa-solid fa-bars-staggered text-xl"></i>
                </button>
            </div>
            <div class="flex items-center gap-3">
                <span
                    class="text-[10px] font-bold text-slate-400 uppercase tracking-widest bg-white px-3 py-1.5 rounded-full border border-slate-200">
                    Product ID: {{ product.pid }}
                </span>
            </div>
        </header>

        <form method="POST" enctype="multipart/form-data"
            class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12 mobile-grid-reset">
            {% csrf_token %}

            <div class="lg:col-span-2 space-y-6">
                <div class="bg-white p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm space-y-6">
                    <div>
                        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Product
                            Name</label>
                        <input type="text" name="name" value="{{ product.name }}"
                            class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none transition-all">
                    </div>

                    <div>
                        <label
                            class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Description</label>
                        <textarea name="description" rows="5"
                            class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none transition-all">{{ product.description }}</textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label
                                class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Regular
                                Price ($)</label>
                            <input type="number" step="0.01" name="regular_price" value="{{ product.regular_price }}"
                                class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none">
                        </div>
                        <div>
                            <label
                                class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Sale
                                Price ($)</label>
                            <input type="number" step="0.01" name="sale_price" value="{{ product.sale_price }}"
                                class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none">
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm">
                    <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3">Update
                        Image</label>
                    <div
                        class="flex flex-col sm:flex-row items-center gap-6 p-4 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200">
                        {% if product.image %}
                        <img src="{{ product.image.url }}" class="h-20 w-20 rounded-xl object-cover shadow-sm">
                        {% endif %}
                        <input type="file" name="image"
                            class="w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer">
                    </div>
                </div>

                <div class="bg-white p-6 md:p-8 rounded-3xl border border-slate-200 shadow-sm">
                    <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3">Update
                        Cover Image</label>
                    <div
                        class="flex flex-col sm:flex-row items-center gap-6 p-4 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200">
                        {% if product.cover_image %}
                        <img src="{{ product.cover_image.url }}" class="h-20 w-20 rounded-xl object-cover shadow-sm">
                        {% endif %}
                        <input type="file" name="cover_image"
                            class="w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer">
                    </div>
                </div>
            </div>

            <div class="lg:col-span-1 space-y-6">
                <div class="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-6">
                    <div>
                        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Listing
                            Status</label>
                        <select name="status"
                            class="w-full px-4 py-3 rounded-xl border border-slate-200 font-bold text-xs appearance-none bg-white">
                        <option value="Published" {% if product.status == 'Published' %}selected{% endif %}>Published</option>
                        
                        <option value="Draft" {% if product.status == 'Draft' %}selected{% endif %}>Draft</option>
                            <option value="Disabled" {% if product.status == 'Disabled' %}selected{% endif %}>Disabled</option>
                            
                        </select>
                    </div>
                    <div>
                        <label
                            class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Inventory
                            Count</label>
                        <input type="number" name="qty" value="{{ product.qty }}"
                            class="w-full px-4 py-3 rounded-xl border border-slate-200 outline-none">
                    </div>
                    <div>
                        <label
                            class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Category</label>
                        <select name="category"
                            class="w-full px-4 py-3 rounded-xl border border-slate-200 text-xs font-semibold appearance-none bg-white">
                            {% for c in categories %}
                            <option value="{{ c.id }}" {% if product.category.id == c.id %}selected{% endif %}>{{ c.title}}</option>
                                
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm space-y-4">
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-xs font-bold text-slate-600 uppercase tracking-tight">In Stock</span>
                        <input type="checkbox" name="in_stock" {% if product.in_stock %}checked{% endif %}
                            class="h-5 w-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                    </label>
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-xs font-bold text-slate-600 uppercase tracking-tight">Featured</span>
                        <input type="checkbox" name="featured" {% if product.featured %}checked{% endif %}
                            class="h-5 w-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                    </label>
                    <label class="flex items-center justify-between cursor-pointer group">
                        <span class="text-xs font-bold text-slate-600 uppercase tracking-tight">Free Delivery</span>
                        <input type="checkbox" name="free_delivery" {% if product.free_delivery %}checked{% endif %}
                            class="h-5 w-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                    </label>
                </div>

                <div class="space-y-3">
                    <button type="submit"
                        class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-indigo-600 transition-all shadow-xl shadow-slate-200">
                        Save Changes
                    </button>
                    <a href="{% url 'vendor_product_list' %}"
                        class="block text-center w-full py-2 text-slate-400 font-bold text-xs uppercase tracking-widest hover:text-slate-600 transition-colors">
                        Discard Changes
                    </a>
                </div>
            </div>
        </form>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
</body>

</html>